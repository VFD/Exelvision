100 !-----------------------------------
110 !              DUMP
120 !-----------------------------------
130 CLS "BCC"
140 DIM THX$(1.5)
150 FOR 1=0 TO 15:READ THX$(I):NEXT I
160 DATA 0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F
170 INPUT "Adresse de debut (Hexa)";DEB$
180 GOSUB 500:IF B$="N"THEN GOTO 170
190 DEB=NN
200 INPUT "Adresse de fin   (Hexa)";FIN$
210 GOSUB 510:IF B$="N"THEN GOTO 200
220 FIN=NN
230 IF DEB>FIN THEN PRINT "Adresse de debut > a celle de fin":GOTO 170
240 INPUT "Listage sur imprimante (O/N)";PRI$
250 CLS:LOCATE (1,1)
260 L=1
270 FOR D=DEB TO FIN STEP 8
280 LIGN$="":FI$=""
290 DEC=D:GOSUB 760
300 ON LEN(HX$)GOSUB 660,670,680,690
310 PRINT HX$;:LIGN$=LIGN$&HX$&"  ":C1=7:C2=32
320 FOR I=D TO D+7
330 IF I>65535 THEN GOTO 430
340 CALL PEEK(I,A)
350 DEC=A:GOSLIB 760:A$=HX$
360 LOCATE (L,C1)
370 IF LEN(A$)=1 THEN PRINT "0"&A$&" "; ELSE PRINT A$&" "
380 IF LEN(A$)=1 THEN LIGN$=LIGN$&"0"&A$&" " ELSE LIGN$=LIGN$&A$&" "
390 LOCATE (L,C2)
400 IF (A>47 AND A<58)OR (A>64 AND A<91)THEN PRINT CHR$(A) ELSE PRINT "."
410 IF (A>47 AND A<58)OR (A>64 AND A<91)THEN FI$=FI$&CHR$(A) ELSE FI$=FI$&"."
420 C2=C2+1:C1=C1+3
430 NEXT I
440 GOSUB 700
450 L=L+1
460 IF L=22 THEN A$=KEY$:L=1:CLS:LOCATE (1,1)
470 NEXT D
480 IF PRIS="O"THEN CLOSE #1
490 END
500 DD$=DEB$:GOTO 520
510 DD$=FIN$:GOTO 520
520 NN=0
530 IF LEN(DD$)<>4 THEN B$="N":GOSUB 740:RETURN
540 FOR I=1 TO 4
550 V=ASC(SEG$(DD$,I,1))
560 IF V>64 AND V<71 THEN N=V-55:ON I GOTO 600,610,620,630
570 IF V>47 AND V<58 THEN N=V-48:ON I GOTO 600,610,620,630
580 GOSUB 740
590 B$="N":RETURN
600 NN=NN+N*4096:GOTO 640
610 NN=NN+N*256:GOTO 640
620 NN=NN+N*16:GOTO 640
630 NN=NN+N
640 NEXT I
650 B$="O":RETURN
660 PRINT "0";:LIGN$="0"
670 PRINT "0";:LIGN$=LIGN$&"0"
680 PRINT "0";:LIGN$=LIGN$&"0"
690 RETURN
700 IF PRI$="N"THEN RETURN
710 IF OP$<>"O"THEN OPEN #1,"20",OUTPUT:OP$="O"
720 PRINT #1,LIGN$;" ";FI$
730 RETURN
740 PRINT "Donner 1'adresse sur 4 caractÃ¨res HEXA":RETURN
750 ! DECIMAL --> HEXADECIMAL
760 HX$=""
770 HX$=THX$(DEC-INT(DEC/16)*16)&HX$
780 DEC=INT(DEC/16)
790 IF DEC>0 THEN 770
800 RETURN
