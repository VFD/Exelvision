
100 ! EXELVISION      VZ  4/12/84
110 !
120 ! GENERATION DE NOTES MUSICALES
130 !
140 ! (ce progranmme utilise le TIMER)
150 !
150 DIM PL(128)
170 FOR I=0 TO 128:PL(I)=200:NEXT
180 CALL POKE(50588,165,8,6,10)! Stockage routine timer code machine
130 CALL POKE(43156,138,0)!      Init vecteur interrupt timer
200 DATA 133,00,188,DO#,176,RE,168,RE#,158,MI,148,FA,141,FA#,133,SOL,125,SOL#
210 DATA 118,LA,111,LA#,105,SI
220 CLS "BYY"
230 LOCATE (2,1)
240 CALL COLOR("OBC")
250 PRINT "Veuillezdefinir votre clavier musical"
260 CALL COLOR("ObY")
270 LOCATE (4,4)
280 PRINT "Pour cela, appuyer sur la touche"
230 LOCATE (5,4)
300 PRINT "correspondant a la note affichee."
310 LOCATE (6,7)
320 PRINT "(12 notes sur 4 octaves)"
330 FOR J=0 TO 3
340 LOCATE (J*3+3,1)
350 CALL COLOR("ORY")
360 PRINT "Octave, No:";J+1
370 FOR I=1 TO 12
380 B=2^J
330 READ A:A=A/B:READ A$! CALCUL DES CONSTANTES DU DIVISEUR TIMER
400 CALL COLOR("OMY")
410 PRINT A$;"    ";
420 PL(ASC(KEY$))=A
430 NEXT:RESTORE:NEXT
440 !
450 ! TRAITEMENT
460 !
470 CALL KEY1(A,B)! SAISIE D'UNE TOUCHE
480 ON ERROR 470
490 IF B=-1 THEN 470
500 IF B=0 THEN 520
510 CALL POKE(258,PL(A),132):GOTO 470! MISE A JOUR DU DIVISEUR TIMER
520 CALL POKE(258,45):GOTO 470!                          ARRET TIMER
